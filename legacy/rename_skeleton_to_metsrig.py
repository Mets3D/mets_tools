import bpy
from bpy.props import *

prefix_ow = "bone_0"
prefix_bi = "GenericHuman"
prefix_valve = "ValveBiped.Bip01_"

valve = {	# TODO: I haven't tested this one.
	'Pelvis' : 'Spine1_Def',
	'ValveBiped.Bip01_Spine1' : 'Spine2_Def',
	'ValveBiped.Bip01_Spine2' : 'Spine3_Def',
	'ValveBiped.Bip01_Hips' : 'Hip_Def',
	'ValveBiped.Bip01_Neck' : 'Neck_Def',
	'ValveBiped.Bip01_Head' : 'Head_Def',
	
	'ValveBiped.Bip01_L_Clavicle' : 'Clavicle_Def.L',
	'ValveBiped.Bip01_R_Clavicle' : 'Clavicle_Def.R',
	'ValveBiped.Bip01_L_Upperarm' : 'Shoulder_Def.L',
	'ValveBiped.Bip01_R_Upperarm' : 'Shoulder_Def.R',
	'ValveBiped.Bip01_L_Forearm' : 'Elbow_Def.L',
	'ValveBiped.Bip01_R_Forearm' : 'Elbow_Def.R',
	'ValveBiped.Bip01_L_Hand' : 'Hand_Def.L',
	'ValveBiped.Bip01_R_Hand' : 'Hand_Def.R',
	
	'ValveBiped.Bip01_L_Finger0' : 'Thumb1.L',
	'ValveBiped.Bip01_L_Finger01' : 'Thumb2.L',
	'ValveBiped.Bip01_L_Finger02' : 'Thumb3.L',
	'ValveBiped.Bip01_L_Finger1' : 'Index1.L',
	'ValveBiped.Bip01_L_Finger11' : 'Index2.L',
	'ValveBiped.Bip01_L_Finger12' : 'Index3.L',
	'ValveBiped.Bip01_L_Finger2' : 'Middle1.L',
	'ValveBiped.Bip01_L_Finger21' : 'Middle2.L',
	'ValveBiped.Bip01_L_Finger22' : 'Middle3.L',
	'ValveBiped.Bip01_L_Finger3' : 'Ring1.L',
	'ValveBiped.Bip01_L_Finger31' : 'Ring2.L',
	'ValveBiped.Bip01_L_Finger32' : 'Ring3.L',
	'ValveBiped.Bip01_L_Finger4' : 'Pinky1.L',
	'ValveBiped.Bip01_L_Finger41' : 'Pinky2.L',
	'ValveBiped.Bip01_L_Finger42' : 'Pinky3.L',
	
	'ValveBiped.Bip01_R_Finger0' : 'Thumb1.L',
	'ValveBiped.Bip01_R_Finger01' : 'Thumb2.L',
	'ValveBiped.Bip01_R_Finger02' : 'Thumb3.L',
	'ValveBiped.Bip01_R_Finger1' : 'Index1.R',
	'ValveBiped.Bip01_R_Finger11' : 'Index2.R',
	'ValveBiped.Bip01_R_Finger12' : 'Index3.R',
	'ValveBiped.Bip01_R_Finger2' : 'Middle1.R',
	'ValveBiped.Bip01_R_Finger21' : 'Middle2.R',
	'ValveBiped.Bip01_R_Finger22' : 'Middle3.R',
	'ValveBiped.Bip01_R_Finger3' : 'Ring1.R',
	'ValveBiped.Bip01_R_Finger31' : 'Ring2.R',
	'ValveBiped.Bip01_R_Finger32' : 'Ring3.R',
	'ValveBiped.Bip01_R_Finger4' : 'Pinky1.R',
	'ValveBiped.Bip01_R_Finger41' : 'Pinky2.R',
	'ValveBiped.Bip01_R_Finger42' : 'Pinky3.R',
		
	'ValveBiped.Bip01_L_Thigh' : 'Thigh_Def.L',
	'ValveBiped.Bip01_R_Thigh' : 'Thigh_Def.R',
	'ValveBiped.Bip01_L_Calf' : 'Knee_Def.L',
	'ValveBiped.Bip01_R_Calf' : 'Knee_Def.R',
	'ValveBiped.Bip01_L_Foot' : 'Foot_Def.L',
	'ValveBiped.Bip01_R_Foot' : 'Foot_Def.R',
	'ValveBiped.Bip01_L_Toe0' : 'Toe_Def.L',
	'ValveBiped.Bip01_R_Toe0' : 'Toe_Def.R'
}

overwatch = {
	"000" : "useless",
	"001" : "root",
	"38D" : "useless",
	"180" : "useless",
	"3BE" : "useless",
	"181" : "useless",
	"07D" : "useless",
	"5F0" : "useless",
	"07E" : "useless",
	"0C1" : "useless",
	"0C2" : "useless",
	"002" : "useless",
	"97F" : "useless",
	"985" : "useless",
	"052" : "Spine1_Def",
	"003" : "useless",
	"004" : "useless",
	"051" : "Spine2_Def",
	"005" : "useless",
	"109" : "useless",
	"00F" : "Spine3_Def",
	"010" : "Neck_Def",
	"0EF" : "Collar_Back",
	"0EE" : "Collar.R",
	"0EC" : "Collar_Front",
	"0ED" : "Collar.L",
	"050" : "useless",
	"034" : "Clavicle_Def.L",
	"00D" : "useless",
	"031" : "Shoulder_Def.L",
	"04D" : "Shoulder_Def.R",
	"00E" : "useless",
	"032" : "Twist_Arm_6.L",
	"04F" : "Twist_Arm_5.L",
	"01A" : "Twist_Arm_4.L",
	"01B" : "Twist_Arm_3.L",
	"030" : "Twist_Arm_2.L",
	"01C" : "Hand_Def.L",
	"029" : "Thumb1.L",
	"02A" : "Thumb2.L",
	"02B" : "Thumb3.L",
	"0E6" : "Thumb_Adjust_1.L",
	"0E4" : "Thumb_Adjust_2.L",
	"0DE" : "Thumb_Adjust_3.L",
	"0E2" : "Palm_Adjust_1.L",
	"835" : "Index1.L",
	"01D" : "Index2.L",
	"01E" : "Index3.L",
	"01F" : "Index4.L",
	"837" : "Middle1.L",
	"020" : "Middle2.L",
	"021" : "Middle3.L",
	"022" : "Middle4.L",
	"839" : "Ring1.L",
	"026" : "Ring2.L",
	"027" : "Ring3.L",
	"028" : "Ring4.L",
	"0E0" : "Pinky1.L",
	"023" : "Pinky2.L",
	"024" : "Pinky3.L",
	"025" : "Pinky4.L",
	"0EA" : "Palm_Adjust_2.L",
	"036" : "useless",
	"00C" : "Clavicle_Def.R",
	"037" : "useless",
	"04E" : "Twist_Arm_6.R",
	"033" : "Twist_Arm_5.R",
	"038" : "Twist_Arm_4.R",
	"039" : "Twist_Arm_3.R",
	"04A" : "useless",
	"04C" : "Twist_Arm_2.R",
	"03A" : "Hand_Def.R",
	"047" : "Thumb1.R",
	"0E7" : "Thumb_Adjust_1.R",
	"0E5" : "Thumb_Adjust_2.R",
	"0DF" : "Thumb_Adjust_3.R",
	"048" : "Thumb2.R",
	"049" : "Thumb3.R",
	"0E3" : "Palm_Adjust_1.R",
	"836" : "Index1.R",
	"03B" : "Index2.R",
	"03C" : "Index3.R",
	"03D" : "Index4.R",
	"838" : "Middle1.R",
	"03E" : "Middle2.R",
	"03F" : "Middle3.R",
	"040" : "Middle4.R",
	"83A" : "Ring1.R",
	"044" : "Ring2.R",
	"045" : "Ring3.R",
	"046" : "Ring4.R",
	"0E1" : "Pinky1.R",
	"041" : "Pinky2.R",
	"042" : "Pinky3.R",
	"043" : "Pinky4.R",
	"0EB" : "Palm_Adjust_2.R",
	"011" : "Head_Def",
	"016" : "Eyebrow_Mid",
	"017" : "EyeBrow1.L",
	"018" : "EyeBrow2.L",
	"019" : "EyeBrow3.L",
	"385" : "EyeBrow4.L",
	"012" : "Head_Top",
	"388" : "Nose_Bridge.L",
	"39A" : "Eye.L",
	"397" : "Eyelid_Top_2_Rot.L",
	"396" : "Eyelid_Bot_2_Rot.L",
	"007" : "Eyelid_Corner_Outer.L",
	"38C" : "Eyelid_Top_3.L",
	"38B" : "Eyelid_Top_2.L",
	"38A" : "Eyelid_Top_1.L",
	"006" : "Eyelid_Corner_Inner.L",
	"38D" : "Eyelid_Bot_1.L",
	"38E" : "Eyelid_Bot_2.L",
	"38F" : "Eyelid_Bot_3.L",
	"608" : "Cheek_Upper_Inner.L",
	"3A2" : "Cheek_Upper_Middle.L",
	"60A" : "Cheek_Upper_Outer.L",
	"71D" : "Cheek_Mid_Outer.L",
	"39E" : "Cheek_Mid.L",
	"3A4" : "Cheek_Mid_Inner.L",
	"009" : "Nose.L",
	"008" : "Nose_Tip",
	"00B" : "useless",
	"3BC" : "Jaw",
	"3B7" : "Teeth_Top",
	"3B8" : "Teeth_Bottom",
	"3BB" : "Tongue1",
	"3BA" : "Tongue2",
	"3B9" : "Tongue3",
	"3A0" : "Cheek_Jaw_2.L",
	"3A6" : "Cheek_Jaw_1.L",
	"60C" : "Cheek_LaughLine.L",
	"3AA" : "Lip_Top_Mid",
	"3A9" : "Lip_Top_2.L",
	"3A8" : "Lip_Top_3.L",
	"3B0" : "Lip_Corner.L",
	"3AF" : "Lip_Bottom_3.L",
	"3AC" : "Lip_Bottom_2.L",
	"3AD" : "Chin_Outer.L",
	"3AB" : "Lip_Bottom_Mid",
	"3B6" : "Chin_Mid",
	"015" : "EyeBrow1.R",
	"014" : "EyeBrow2.R",
	"013" : "EyeBrow3.R",
	"384" : "EyeBrow4.R",
	"39B" : "Eye.R",
	"398" : "Eyelid_Bot_2_Rot.R",
	"399" : "Eyelid_Top_2_Rot.R",
	"389" : "Nose_Bridge.R",
	"386" : "Eyelid_Corner_Outer.R",
	"395" : "Eyelid_Top_3.R",
	"394" : "Eyelid_Top_2.R",
	"393" : "Eyelid_Top_1.R",
	"387" : "Eyelid_Corner_Inner.R",
	"391" : "Eyelid_Bot_1.R",
	"390" : "Eyelid_Bot_2.R",
	"392" : "Eyelid_Bot_3.R",
	"609" : "Cheek_Upper_Inner.R",
	"3A3" : "Cheek_Upper_Middle.R",
	"60B" : "Cheek_Upper_Outer.R",
	"71E" : "Cheek_Mid_Outer.R",
	"39F" : "Cheek_Mid.R",
	"3A5" : "Cheek_Mid_Inner.R",
	"00A" : "Nose.R",
	"60D" : "Cheek_LaughLine.R",
	"3A7" : "Cheek_Jaw_1.R",
	"3A1" : "Cheek_Jaw_2.R",
	"3B4" : "Lip_Top_2.R",
	"3B5" : "Lip_Top_3.R",
	"3B3" : "Lip_Corner.R",
	"3B2" : "Lip_Bottom_3.R",
	"3B1" : "Lip_Bottom_2.R",
	"3AE" : "Chin_Outer.R",
	"056" : "Thigh_Def.L",
	"055" : "useless",
	"060" : "Thigh_Def.R",
	"05F" : "useless",
	"057" : "Twist_Leg_4.L",
	"061" : "Twist_Leg_4.R",
	"058" : "Twist_Leg_3.L",
	"062" : "Twist_Leg_3.R",
	"05C" : "Knee_Def.L",
	"066" : "Knee_Def.R",
	"05D" : "Twist_Leg_2.L",
	"067" : "Twist_Leg_2.R",
	"05E" : "Twist_Leg_1.L",
	"068" : "Twist_Leg_1.R",
	"05A" : "Foot_Def.L",
	"064" : "Foot_Def.R",
	"05B" : "Toe_Def.L",
	"065" : "Toe_Def.R",
	"3BD" : "useless",
	"180" : "useless",
	"17A" : "BackThing",
	"984" : "useless",
	"054" : "Hip_Def",
	"053" : "useless",
	"7B3" : "Hair_1",
	"7B4" : "Hair_2",
	"7B5" : "Hair_3",
	"7B6" : "Hair_4",

	#Dva stuff
	"624" : "Twist_Arm_1.L",
	"61F" : "Twist_Arm_1.R",
	"0E8" : "Hand_Adjust.L",
	"0E9" : "Hand_Adjust.R",
	"57B" : "Clavicle_Adjust.L",
	"57C" : "Clavicle_Adjust.R",
	"57E" : "Neck_Def"
}

sombra_gun = {
	"001" : "Root",
	"002" : "Base",
	"075" : "Back_Part1",
	"072" : "Back_Part2",
	"073" : "Back_Part3",
	"076" : "Back_Part4",
	"06B" : "Back_Part5",
	"08B" : "Back_Part6",
	"6E1" : "Back_Main",
	"97E" : "Thing.L",
	"97A" : "Thing.R",
	"423" : "AmmoDisplayBase",
	"0C5" : "AmmoDisplay",
	"41F" : "Cable.L",
	"098" : "Trigger",
	"09F" : "Barrel",
	"911" : "Phys1",

	"F78" : "Sight",
}

dva_mech = {
	"001" : "ROOT_Mech",
	"3BD" : "useless",
	"3BE" : "useless",
	"07D" : "useless",
	"180" : "useless",
	"181" : "useless",
	"5F0" : "useless",
	"002" : "useless",
	"914" : "useless", 
	"003" : "Upper",
	"0C3" : "Boosters_Back.L",
	"11F" : "Boosters_Back.L.001",
	"0C4" : "Boosters_Back.R",
	"121" : "Boosters_Back.R.001",
	"00D" : "useless",
	"00E" : "useless",
	"036" : "useless",
	"037" : "useless",
	"050" : "Gun.L",
	"032" : "Gun.L.001",
	"01B" : "Gun.L.002",
	"09B" : "Gun.L.003",
	"01C" : "Gun.L.004",
	"099" : "Gun.L.005",
	"8BA" : "Gun.L.006",
	"8BC" : "Gun.L.007",
	"16F" : "Gun_Barrel_1.L",
	"8B9" : "Gun_Barrel_1.L.001",
	"182" : "Gun_Barrel_2.L",
	"8B7" : "Gun_Barrel_2.L.002",
	"8B2" : "Gun_Barrel_3.L",
	"8B5" : "Gun_Barrel_3.L.001",
	"035" : "Gun.R",
	"04E" : "Gun.R.001",
	"039" : "Gun.R.002",
	"09C" : "Gun.R.003",
	"03A" : "Gun.R.004",
	"09A" : "Gun.R.005",
	"8BB" : "Gun.R.006",
	"8BD" : "Gun.R.007",
	"170" : "Gun_Barrel_1.R",
	"8B8" : "Gun_Barrel_1.R.001",
	"183" : "Gun_Barrel_2.R",
	"8B6" : "Gun_Barrel_2.R.001",
	"8B3" : "Gun_Barrel_3.R",
	"8B4" : "Gun_Barrel_3.R.001",
	"11E" : "Wing.L",
	"13B" : "Wing.L.001",
	"120" : "Wing.R",
	"13C" : "Wing.R.001",
	"0C5" : "Door",
	"082" : "Top_Back",
	"081" : "Top_Front",
	"8FD" : "useless",
	"871" : "Seat_Top",
	"179" : "Door_Lower",
	"7E5" : "Seat_Back",
	"052" : "Upper_Base",
	"004" : "Seat",
	"511" : "Stick.L",
	"8E9" : "Stick.L.001",
	"8FE" : "Stick.L.002",
	"518" : "Stick.R",
	"8EA" : "Stick.R.001",
	"8FF" : "Stick.R.002",
	"054" : "Lower_Base",
	"0C2" : "useless",
	"0C1" : "useless",
	"053" : "Lower",
	"436" : "Hip.L",
	"055" : "Thigh.L",
	"12E" : "Knee.L",
	"059" : "Calf.L",
	"431" : "Ankle.L",
	"42A" : "Foot.L",
	"05B" : "Toe_Base.L",
	"439" : "Toe_Front.L",
	"43D" : "ToeFlap.L",
	"11A" : "useless",
	"425" : "useless",
	"05A" : "Toe_Root.L",
	"43B" : "Thumb.L",
	"435" : "Hip.R",
	"05F" : "Thigh.R",
	"12D" : "Knee.R",
	"063" : "Calf.R",
	"426" : "useless",
	"11B" : "useless",
	"432" : "Ankle.R",
	"429" : "Foot.R",
	"064" : "Toe_Root.R",
	"43C" : "Thumb.R",
	"065" : "Toe_Base.R",
	"43A" : "Toe_Front.R",
	"43E" : "ToeFlap.R",
	"159" : "Gun_Latch.L",
	"158" : "Gun_Latch.R"
}

dva_pistol = {
	"001" : "ROOT_Pistol",
	"002" : "Grip",
	"098" : "Trigger",
	"070" : "Sight",
	"09F" : "Barrel",
	"069" : "Back",
	"06B" : "Phys",
	"06C" : "Phys.001",
	"06D" : "Phys.002",
	"06E" : "Phys.003",
}

elizabeth_bioshock = {
	"Pelvis" : "Hip_Def",
	"Spine1" : "Spine1_Def",
	"Spine2" : "Spine2_Def",
	"Spine3" : "Spine3_Def",
	"Ribcage" : "Spine4_Def",
	"BreathingBone" : "BreathingBone", # Has no equivalent in my rig, but still want to remove the GenericHuman prefix
	"Neck" : "Neck_Def",
	"Head" : "Head_Def",
	"LCollarbone" : "Clavicle_Def.L",
	"RCollarbone" : "Clavicle_Def.R",
	"LUpperarm1" : "Shoulder_Def.L",
	"RUpperarm1" : "Shoulder_Def.R",
	"LUpperarm2" : "Twist_Arm_6.L",
	"RUpperarm2" : "Twist_Arm_6.R",
	"LForearm1" : "Elbow_Def.L",
	"RForearm1" : "Elbow_Def.R",
	"LForearm2" : "Twist_Arm_3.L",
	"RForearm2" : "Twist_Arm_3.R",
	"LPalm" : "Hand_Def.L",
	"RPalm" : "Hand_Def.R",
	"LDigit11" : "Thumb1.L",
	"RDigit11" : "Thumb1.R",
	"LDigit12" : "Thumb2.L",
	"RDigit12" : "Thumb2.R",
	"LDigit13" : "Thumb3.L",
	"RDigit13" : "Thumb3.R",
	"LDigit21" : "Index2.L",
	"RDigit21" : "Index2.R",
	"LDigit22" : "Index3.L",
	"RDigit22" : "Index3.R",
	"LDigit23" : "Index4.L",
	"RDigit23" : "Index4.R",
	"LDigit31" : "Middle2.L",
	"RDigit31" : "Middle2.R",
	"LDigit32" : "Middle3.L",
	"RDigit32" : "Middle3.R",
	"LDigit33" : "Middle4.L",
	"RDigit33" : "Middle4.R",
	"LDigit41" : "Ring2.L",
	"RDigit41" : "Ring2.R",
	"LDigit42" : "Ring3.L",
	"RDigit42" : "Ring3.R",
	"LDigit43" : "Ring4.L",
	"RDigit43" : "Ring4.R",
	"LDigit51" : "Pinky2.L",
	"RDigit51" : "Pinky2.R",
	"LDigit52" : "Pinky3.L",
	"RDigit52" : "Pinky3.R",
	"LDigit53" : "Pinky4.L",
	"RDigit53" : "Pinky4.R",
	"_C_jawJnt" : "Jaw",
	"_l_cornerLipJnt" : "Lip_Corner.L",
	"_r_cornerLipJnt" : "Lip_Corner.R",
	"_l_uppLipJnt" : "Lip_Top_2.L",
	"_r_uppLipJnt" : "Lip_Top_2.R",
	"_l_loLipJnt" : "Lip_Bottom_2.L",
	"_r_loLipJnt" : "Lip_Bottom_2.R",
	"_c_uppLipJnt" : "Lip_Top_Mid",
	"_c_loLipJnt" : "Lip_Bottom_Mid",
	"_C_tongue_a_Jnt" : "Tongue2",
	"_C_tongue_b_Jnt" : "Tongue3",
	"_l_loCheekJnt" : "Cheek_Jaw_2.L",
	"_r_loCheekJnt" : "Cheek_Jaw_2.R",
	"_LSquint" : "Cheek_Upper_Middle.L",
	"_RSquint" : "Cheek_Upper_Middle.R",
	"_l_uppCheekJnt" : "Cheek_Mid_Outer.L",
	"_r_uppCheekJnt" : "Cheek_Mid_Outer.R",
	"_L_InnerCheek" : "Cheek_Mid_Inner.L",
	"_R_InnerCheek" : "Cheek_Mid_Inner.R",
	"_l_nostrilJnt" : "Nose.L",
	"_r_nostrilJnt" : "Nose.R",
	"_l_loLidJnt" : "Eyelid_Bot_2.L",
	"_r_loLidJnt" : "Eyelid_Bot_2.R",
	"_l_uppLidJnt" : "Eyelid_Top_2.L",
	"_r_uppLidJnt" : "Eyelid_Top_2.R",
	"_l_EyeJnt" : "Eye.L",
	"_r_EyeJnt" : "Eye.R",
	"_l_browAJnt" : "EyeBrow1.L",
	"_r_browAJnt" : "EyeBrow1.R",
	"_l_browBJnt" : "EyeBrow2.L",
	"_r_browBJnt" : "EyeBrow2.R",
	"_l_browCJnt" : "EyeBrow3.L",
	"_r_browCJnt" : "EyeBrow3.R",
	"_C_forehead" : "Eyebrow_Mid",
	"LThigh" : "Thigh_Def.L",
	"RThigh" : "Thigh_Def.R",
	"LCalf" : "Knee_Def.L",
	"RCalf" : "Knee_Def.R",
	"LFoot" : "Foot_Def.L",
	"RFoot" : "Foot_Def.R",
	"LToe1" : "Toes_Def.L",
	"RToe1" : "Toes_Def.R",
	"DressBone_FL1" : "Skirt_Front.L",
	"DressBone_FL2" : "Skirt_Front.L.001",
	"DressBone_FL3" : "Skirt_Front.L.002",
	"DressBone_FL4" : "Skirt_Front.L.003",
	"DressBone_FL5" : "Skirt_Front.L.004",
	"DressBone_FR1" : "Skirt_Front.R",
	"DressBone_FR2" : "Skirt_Front.R.001",
	"DressBone_FR3" : "Skirt_Front.R.002",
	"DressBone_FR4" : "Skirt_Front.R.003",
	"DressBone_FR5" : "Skirt_Front.R.004",
	"DressBone_L1" : "Skirt.L",
	"DressBone_L2" : "Skirt.L.001",
	"DressBone_L3" : "Skirt.L.002",
	"DressBone_R1" : "Skirt.R",
	"DressBone_R2" : "Skirt.R.001",
	"DressBone_R3" : "Skirt.R.002",
	"DressBone_BL1" : "Skirt_Back.L",
	"DressBone_BL2" : "Skirt_Back.L.001",
	"DressBone_BL3" : "Skirt_Back.L.002",
	"DressBone_BR1" : "Skirt_Back.R",
	"DressBone_BR2" : "Skirt_Back.R.001",
	"DressBone_BR3" : "Skirt_Back.R.002",
	"_LFaceHair01" : "Hair_Front_01",
	"_LFaceHair02" : "Hair_Front_01.001",
	"_FrontHair01" : "Hair_Front_02",
	"_FrontHair02" : "Hair_Front_02.001",
	"_RFaceHair01" : "Hair_Front_03",
	"_RFaceHair02" : "Hair_Front_03.001",
	"_LHair01" : "Hair.L",
	"_LHair02" : "Hair.L.001",
	"_RHair01" : "Hair.R",
	"_RHair02" : "Hair.R.001",
	"_BackHair01" : "Hair_Back",
	"_BackHair02" : "Hair_Back.001",
	"_PonyTail01" : "Hair_Ponytail",
	"_PonyTail02" : "Hair_Ponytail.001",
	"_PonyTail03" : "Hair_Ponytail.002",
	"_C_chinJnt" : "Chin_Mid",
}

elizabeth_revzin = {
	"bip_pelvis" : "Hip_Def",
	"bip_spine_0" : "Spine1_Def",
	"bip_spine_1" : "Spine2_Def",
	"bip_spine_2" : "Spine3_Def",
	"bip_spine_3" : "Spine4_Def",
	"bip_neck" : "Neck_Def",
	"bip_head" : "Head_Def",
	"bip_collar_L" : "Clavicle_Def.L",
	"bip_collar_R" : "Clavicle_Def.R",
	"bip_upperArm_L" : "Shoulder_Def.L",
	"bip_upperArm_R" : "Shoulder_Def.R",
	"hlp_upperArm_L" : "Twist_Arm_6.L",
	"hlp_upperArm_R" : "Twist_Arm_6.R",
	"bip_lowerArm_L" : "Elbow_Def.L",
	"bip_lowerArm_R" : "Elbow_Def.R",
	"hlp_lowerArm_L" : "Twist_Arm_3.L",
	"hlp_lowerArm_R" : "Twist_Arm_3.R",
	"hlp_chestbreath" : "BreathingBone",
	"bip_hand_L" : "Hand_Def.L",
	"bip_hand_R" : "Hand_Def.R",
	"bip_thumb_0_L" : "Thumb1.L",
	"bip_thumb_0_R" : "Thumb1.R",
	"bip_thumb_1_L" : "Thumb2.L",
	"bip_thumb_1_R" : "Thumb2.R",
	"bip_thumb_2_L" : "Thumb3.L",
	"bip_thumb_2_R" : "Thumb3.R",
	"bip_index_0_L" : "Index2.L",
	"bip_index_0_R" : "Index2.R",
	"bip_index_1_L" : "Index3.L",
	"bip_index_1_R" : "Index3.R",
	"bip_index_2_L" : "Index4.L",
	"bip_index_2_R" : "Index4.R",
	"bip_middle_0_L" : "Middle2.L",
	"bip_middle_0_R" : "Middle2.R",
	"bip_middle_1_L" : "Middle3.L",
	"bip_middle_1_R" : "Middle3.R",
	"bip_middle_2_L" : "Middle4.L",
	"bip_middle_2_R" : "Middle4.R",
	"bip_ring_0_L" : "Ring2.L",
	"bip_ring_0_R" : "Ring2.R",
	"bip_ring_1_L" : "Ring3.L",
	"bip_ring_1_R" : "Ring3.R",
	"bip_ring_2_L" : "Ring4.L",
	"bip_ring_2_R" : "Ring4.R",
	"bip_pinky_0_L" : "Pinky2.L",
	"bip_pinky_0_R" : "Pinky2.R",
	"bip_pinky_1_L" : "Pinky3.L",
	"bip_pinky_1_R" : "Pinky3.R",
	"bip_pinky_2_L" : "Pinky4.L",
	"bip_pinky_2_R" : "Pinky4.R",
	# Revzin's model have no face bones.
	"bip_hip_L" : "Thigh_Def.L",
	"bip_hip_R" : "Thigh_Def.R",
	"bip_knee_L" : "Knee_Def.L",
	"bip_knee_R" : "Knee_Def.R",
	"bip_foot_L" : "Foot_Def.L",
	"bip_foot_R" : "Foot_Def.R",
	"bip_toe_L" : "Toes_Def.L",
	"bip_toe_R" : "Toes_Def.R",
	"prp_dress_l01_1" : "Skirt_Front.L",
	"prp_dress_l01_2" : "Skirt_Front.L.001",
	"prp_dress_l01_3" : "Skirt_Front.L.002",
	"prp_dress_l01_4" : "Skirt_Front.L.003",
	"prp_dress_l01_5" : "Skirt_Front.L.004",
	"prp_dress_r01_1" : "Skirt_Front.R",
	"prp_dress_r01_2" : "Skirt_Front.R.001",
	"prp_dress_r01_3" : "Skirt_Front.R.002",
	"prp_dress_r01_4" : "Skirt_Front.R.003",
	"prp_dress_r01_5" : "Skirt_Front.R.004",
	"prp_dress_l02_1" : "Skirt.L",
	"prp_dress_l02_2" : "Skirt.L.001",
	"prp_dress_l02_3" : "Skirt.L.002",
	"prp_dress_r02_1" : "Skirt.R",
	"prp_dress_r02_2" : "Skirt.R.001",
	"prp_dress_r02_3" : "Skirt.R.002",
	"prp_dress_r03_1" : "Skirt_Back.L",
	"prp_dress_r03_2" : "Skirt_Back.L.001",
	"prp_dress_r03_3" : "Skirt_Back.L.002",
	"prp_dress_l03_1" : "Skirt_Back.R",
	"prp_dress_l03_2" : "Skirt_Back.R.001",
	"prp_dress_l03_3" : "Skirt_Back.R.002",
}

class RenameSkeletonToMetsRig(bpy.types.Operator):
	""" Rename skeletons from various naming conventions to my own. """
	bl_idname = "object.rename_skeleton"
	bl_label = "Rename Bones To MetsRig Convention"
	bl_options = {'REGISTER', 'UNDO'}

	source_convention: EnumProperty(
		name="Source Convention",
		items=[
			("Overwatch","Overwatch","Overwatch"),
			("Bioshock","Bioshock","Bioshock"),
			("Valve","Valve","Valve"),
			("Revzin","Revzin","Revzin"),
		],
		default="Overwatch"
	)

	def execute(self, context):
		if(type(context.object) != bpy.types.Object or 
		context.object.type != 'ARMATURE'): return {'CANCELLED'}

		prefix = prefix_ow
		name_dict = overwatch
		if(self.source_convention=='Bioshock'):
			prefix = prefix_bi
			name_dict = elizabeth_bioshock
		elif(self.source_convention=='Valve'):
			prefix = prefix_valve
			name_dict = valve
		elif(self.source_convention=='Revzin'):
			prefix = ""
			name_dict = elizabeth_revzin

		for b in context.object.pose.bones:
			try:
				new_name = name_dict[b.name[len(prefix):]]
				print("Renaming " + b.name + " to: " + new_name)
				b.name = new_name
			except KeyError:
				print("Not renaming:" + b.name)
		return {"FINISHED"}

def register():
	from bpy.utils import register_class
	register_class(RenameSkeletonToMetsRig)

def unregister():
	from bpy.utils import unregister_class
	unregister_class(RenameSkeletonToMetsRig)